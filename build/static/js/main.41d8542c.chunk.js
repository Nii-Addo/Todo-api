(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{42:function(e,n,t){},65:function(e,n,t){},66:function(e,n,t){"use strict";t.r(n);var r=t(1),o=t(0),i=t.n(o),c=t(32),a=t.n(c),s=(t(42),t(11)),d=t(3),l=t(2),b=i.a.createContext(),u=b.Provider,j=function(e){var n=e.children,t=Object(o.useState)("light"),i=Object(l.a)(t,2),c=i[0],a=i[1],s="light"===c?"#333":"#FFF",d="light"===c?"#FFF":"#333";return document.body.style.color=s,document.body.style.backgroundColor=d,Object(r.jsx)(u,{value:{theme:c,toggleTheme:function(){a("light"===c?"dark":"light")}},children:n})},h=Object(o.createContext)(),p=h.Provider,x=function(e){var n=e.children,t=Object(d.g)(),i=localStorage.getItem("token"),c=localStorage.getItem("userInfo"),a=localStorage.getItem("expiresAt"),s=Object(o.useState)({token:i,expiresAt:a,userInfo:c?JSON.parse(c):{}}),b=Object(l.a)(s,2),u=b[0],j=b[1],h=function(e){var n=e.token,t=e.userInfo,r=e.expiresAt;localStorage.setItem("token",n),localStorage.setItem("userInfo",JSON.stringify(t)),localStorage.setItem("expiresAt",r),j({token:n,userInfo:t,expiresAt:r})};return Object(r.jsx)(p,{value:{authState:u,setAuthState:function(e){return h(e)},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("expiresAt"),j({}),t.push("/")},isAuthenticated:function(){return!(!u.token||!u.expiresAt)&&(new Date).getTime()/1e3<u.expiresAt}},children:n})},m=t(16),g=t.n(m),f=Object(o.createContext)(),O=f.Provider,v=function(e){var n=e.children,t=Object(o.useContext)(h),i=g.a.create({baseURL:"http://localhost:5000/api"});return i.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(t.authState.token),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){var n=e&&e.response?e.response.status:0;return 401!==n&&403!==n||console.log("error code",n),Promise.reject(e)})),Object(r.jsx)(O,{value:{authAxios:i},children:n})},w=t(5),k=t(6);function y(){var e=Object(w.a)(["\n  z-index: 1;\n  ul {\n    position: fixed;\n    top: 0;\n    width: 100%;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    background-color: #333;\n    z-index: 1;\n  }\n\n  li a {\n    display: block;\n    color: white;\n    text-align: center;\n    padding: 14px 16px;\n    text-decoration: none;\n    align-self: center;\n  }\n\n  li a:hover:not(.active) {\n    background-color: #111;\n  }\n\n  .right {\n    float: right;\n    display: flex;\n    flex: wrap;\n  }\n\n  .brand {\n    float: left;\n    margin-left: 10rem;\n  }\n\n  h3 {\n    margin: 0;\n    font-size: 1.3rem;\n    font-weight: bold;\n    line-height: 1.6rem;\n  }\n\n  .btn {\n    align-self: center;\n    margin: 0.8rem;\n  }\n"]);return y=function(){return e},e}var S=k.a.div(y());function C(){var e=Object(w.a)(["\n  font-size: 1rem;\n  margin: 1rem;\n  background: transparent;\n  color: white;\n  cursor: pointer;\n  width: 6rem;\n\n  &:hover {\n    background: #fcefee;\n    color: black;\n  }\n"]);return C=function(){return e},e}function N(){var e=Object(w.a)(["\n  width: auto;\n  height: 2rem;\n  border: none;\n  font-size: 1.1rem;\n"]);return N=function(){return e},e}function z(){var e=Object(w.a)(["\n  width: 7em;\n  height: 3rem;\n  border: none;\n  background-color: green;\n  padding: 0.1rem;\n  font-size: 1.3rem;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n"]);return z=function(){return e},e}var A=k.a.button(z(),(function(e){return e.primary?"#fcefee":"red"}),(function(e){return e.primary?"black":"white"})),I=k.a.button(N()),F=Object(k.a)(I)(C()),E=function(e){var n=Object(o.useContext)(b),t=Object(o.useContext)(h);return Object(r.jsx)(S,{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{className:"brand",children:Object(r.jsx)(s.b,{to:"/",children:Object(r.jsx)("h3",{children:"TODO"})})}),Object(r.jsxs)("div",{className:"right",children:[t.isAuthenticated()?Object(r.jsx)(F,{onClick:t.logout,children:"Logout"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{className:"",children:Object(r.jsx)(s.b,{to:"/login",children:"Login"})}),Object(r.jsx)("li",{className:"",children:Object(r.jsx)(s.b,{to:"/signup",children:"Signup"})})]}),Object(r.jsx)("li",{className:"btn",children:Object(r.jsx)(I,{onClick:n.toggleTheme,children:"light"===n.theme?"dark mode":"light mode"})})]})]})})},L=t(21),M=t.n(L),P=t(36);function T(){var e=Object(w.a)(['\n  width: 47%;\n  min-height: 5rem;\n  margin-bottom: 2rem;\n  padding: 0.5rem 2rem;\n  background-color: #c5e3f6;\n  line-height: 2rem;\n\n  .task {\n    display: flex;\n    flex: wrap;\n\n    /* CHECKBOX STYLES */\n    .c-cb {\n      box-sizing: border-box;\n      font-family: Arial, sans-serif;\n      -webkit-font-smoothing: antialiased;\n      font-weight: 400;\n      font-size: 1.6rem;\n      line-height: 1.25;\n      min-height: 44px;\n      clear: left;\n    }\n\n    .c-cb > input[type="checkbox"] {\n      box-sizing: border-box;\n      top: -2px;\n      left: -2px;\n      width: 30px;\n      height: 30px;\n    }\n    .c-cb > input[type="checkbox"] {\n      -webkit-font-smoothing: antialiased;\n      cursor: pointer;\n      z-index: 1;\n      margin: 0;\n    }\n\n    .c-cb > input[type="checkbox"]:focus + label::before {\n      border-width: 4px;\n      outline: 3px dashed #228bec;\n    }\n\n    .c-cb > label::after {\n      box-sizing: content-box;\n      content: "";\n      position: absolute;\n      top: 11px;\n      left: 9px;\n      width: 18px;\n      height: 7px;\n      transform: rotate(-45deg);\n      border: solid;\n      border-width: 0 0 5px 5px;\n      border-top-color: transparent;\n      opacity: 0;\n      background: transparent;\n    }\n    .c-cb > input[type="checkbox"]:checked + label::after {\n      opacity: 1;\n    }\n  }\n  h3 {\n    margin-top: 0;\n    margin-left: 0.5rem;\n    text-transform: capitalize;\n    font-size: 1.6rem;\n  }\n\n  p {\n    margin-top: 0;\n    max-height: 3rem;\n  }\n\n  .actions {\n    display: flex;\n    flex: wrap;\n\n    .actions-button {\n      margin-right: 2rem;\n    }\n  }\n']);return T=function(){return e},e}var D=k.a.div(T()),B=function(e){var n=Object(o.useContext)(f).authAxios,t=e.activity,i=t._id,c=t.title,a=t.description,s=t.isComplete,d=e.setError,l=e.setSuccessMessage;return Object(r.jsxs)(D,{children:[Object(r.jsxs)("div",{className:"task",children:[Object(r.jsx)("div",{className:"c-cb",children:Object(r.jsx)("input",{id:"todo-2",type:"checkbox",disabled:!0,checked:"true"==="".concat(s)})}),Object(r.jsx)("h3",{children:c})]}),Object(r.jsx)("p",{children:a}),Object(r.jsxs)("div",{className:"actions",children:[Object(r.jsx)("div",{className:"actions-button",children:Object(r.jsx)(A,{primary:!0,onClick:function(){try{n.put("/activities/complete/".concat(i)).then((function(e){var n=e.data;l(n.message),d("")}))}catch(t){var e=t.response.data;l("data.message"),d(e.message)}},disabled:"true"==="".concat(s),children:"complete"})}),Object(r.jsx)("div",{className:"actions-button",onClick:function(){try{n.delete("/activities/".concat(i)).then((function(e){var n=e.data;l(n.message),d("")}))}catch(t){var e=t.response.data;l("data.message"),d(e.message)}},children:Object(r.jsx)(A,{children:"delete"})})]})]})},J=function(e){var n=Object(o.useContext)(f).authAxios,t=Object(o.useState)([]),i=Object(l.a)(t,2),c=i[0],a=i[1],s=e.setError,d=e.setSuccessMessage;return Object(o.useEffect)((function(){(function(){var e=Object(P.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get("/activities/").then((function(e){var n=e.data;a(n.activities),s("")})).catch((function(e){var n=e.response.data;s(n.message),a([])}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.jsx)("div",{children:0===c.length?Object(r.jsx)("div",{children:"No todo item yet"}):Object(r.jsx)("div",{children:c.map((function(e){return Object(r.jsx)(B,{activity:e,setError:s,setSuccessMessage:d},e._id)}))})})};function R(){var e=Object(w.a)(["\n  width: 44%;\n  height: 17rem;\n  position: fixed;\n  align-items: center;\n  padding: 0.5rem;\n  border: 0.5px solid grey;\n  border-radius: 7px;\n  z-index: 1;\n  background: white;\n\n  .form-card {\n    background: white;\n    border: 0 none;\n    border-radius: 0px;\n    padding: 20px 30px 20px 30px;\n    box-sizing: border-box;\n    width: 94%;\n    margin: 0 3% 20px 3%;\n    position: relative;\n  }\n\n  h1 {\n    margin: 0.2rem 3rem;\n  }\n\n  fieldset {\n    background: white;\n    border: 0 none;\n    border-radius: 0.5rem;\n    box-sizing: border-box;\n    width: 100%;\n    margin: 0;\n    padding-bottom: 20px;\n    position: relative;\n  }\n\n  fieldset:not(:first-of-type) {\n    display: none;\n  }\n\n  fieldset .form-card {\n    text-align: left;\n    color: #9e9e9e;\n  }\n\n  input,\n  textarea {\n    padding: 0px 8px 4px 8px;\n    border: none;\n    border-bottom: 1px solid #ccc;\n    border-radius: 0px;\n    margin-bottom: 25px;\n    margin-top: 2px;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: montserrat;\n    color: #2c3e50;\n    font-size: 16px;\n    letter-spacing: 1px;\n  }\n\n  input:focus,\n  textarea:focus {\n    -moz-box-shadow: none !important;\n    -webkit-box-shadow: none !important;\n    box-shadow: none !important;\n    border: none;\n    font-weight: bold;\n    border-bottom: 2px solid skyblue;\n    outline-width: 0;\n  }\n\n  .action-button {\n    width: 100px;\n    background: skyblue;\n    font-weight: bold;\n    font-size: 1.2rem;\n    color: black;\n    border: 0 none;\n    border-radius: 0px;\n    cursor: pointer;\n    padding: 10px 5px;\n    margin: 10px 5px;\n  }\n\n  .action-button:hover,\n  .action-button:focus {\n    box-shadow: 0 0 0 2px white, 0 0 0 3px skyblue;\n  }\n\n  .form-div {\n    margin: 0.2rem;\n    align-items: center;\n  }\n"]);return R=function(){return e},e}var U=k.a.div(R()),_=function(e){var n=Object(o.useContext)(f).authAxios,t=Object(o.useState)(""),i=Object(l.a)(t,2),c=i[0],a=i[1],s=Object(o.useState)(""),d=Object(l.a)(s,2),b=d[0],u=d[1],j=e.setSuccessMessage,h=e.setError;return Object(r.jsxs)(U,{children:[Object(r.jsx)("h1",{children:"What do you have doing?"}),Object(r.jsx)("form",{action:"",children:Object(r.jsxs)("div",{className:"form-card",children:[Object(r.jsx)("div",{className:"",children:Object(r.jsx)("input",{type:"text",name:"title",placeholder:"title",onChange:function(e){return a(e.target.value)}})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("textarea",{name:"description",placeholder:"description",onChange:function(e){return u(e.target.value)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",className:"action-button",onClick:function(e){e.preventDefault();var t={title:c,description:b};n.post("/activities/",t).then((function(e){var n=e.data;j(n.message),h("")})).catch((function(e){var n=e.response.data;h(n.message),j("")}))},children:"Submit"})})]})})]})};function q(){var e=Object(w.a)(["\n  width: 100%;\n  min-height: 100%;\n\n  .nav {\n    z-index: 1;\n  }\n\n  .new-todo {\n    position: relative;\n    left: 28rem;\n    margin-top: 0;\n    top: 4rem;\n    z-index: 1;\n  }\n\n  .messages {\n  }\n\n  .todos {\n    position: relative;\n    top: 20rem;\n    left: 22rem;\n    padding: 5rem 6rem;\n  }\n"]);return q=function(){return e},e}var H=k.a.div(q()),K=function(e){Object(o.useContext)(h);var n=Object(o.useState)(""),t=Object(l.a)(n,2),i=t[0],c=t[1],a=Object(o.useState)(""),s=Object(l.a)(a,2),d=s[0],b=s[1];return Object(r.jsxs)(H,{children:[Object(r.jsx)("div",{className:"nav",children:Object(r.jsx)(E,{})}),Object(r.jsx)("div",{className:"new-todo",children:Object(r.jsx)(_,{setError:c,setSuccessMessage:b})}),Object(r.jsxs)("div",{className:"messages",children:[d?Object(r.jsx)("div",{children:d}):null,i?Object(r.jsx)("div",{children:i}):null]}),Object(r.jsx)("div",{className:"todos",children:Object(r.jsx)(J,{setSuccessMessage:b,setError:c})})]})},W=g.a.create({baseURL:"http://localhost:5000/flow"});function X(){var e=Object(w.a)(["\n  min-height: 10rem;\n  width: 40%;\n  position: relative;\n  left: 20rem;\n  top: 5rem;\n  align-items: center;\n  padding: 1rem;\n  border: 0.5px solid grey;\n  border-radius: 7px;\n  z-index: 1;\n  background: white;\n\n  h4 {\n    font-size: 2rem;\n    font-weight: bold;\n    line-height: 1.5rem;\n  }\n\n  input {\n    padding: 0px 8px 4px 8px;\n    border: none;\n    border-bottom: 1px solid #ccc;\n    border-radius: 0px;\n    margin-bottom: 25px;\n    margin-top: 2px;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: montserrat;\n    color: #2c3e50;\n    font-size: 16px;\n    letter-spacing: 1px;\n  }\n\n  input:focus {\n    -moz-box-shadow: none !important;\n    -webkit-box-shadow: none !important;\n    box-shadow: none !important;\n    border: none;\n    font-weight: bold;\n    border-bottom: 2px solid skyblue;\n    outline-width: 0;\n  }\n\n  .action-button {\n    width: 100px;\n    background: #17b978;\n    font-weight: bold;\n    font-size: 1.2rem;\n    color: black;\n    border: 0 none;\n    border-radius: 0px;\n    cursor: pointer;\n    padding: 10px 5px;\n    margin: 10px 5px;\n  }\n\n  .action-button:hover,\n  .action-button:focus {\n    box-shadow: 0 0 0 2px white, 0 0 0 3px skyblue;\n  }\n"]);return X=function(){return e},e}var Y=k.a.div(X()),G=function(e){var n=Object(o.useContext)(h),t=Object(o.useState)(""),i=Object(l.a)(t,2),c=i[0],a=i[1],s=Object(o.useState)(""),b=Object(l.a)(s,2),u=b[0],j=b[1],p=Object(o.useState)(""),x=Object(l.a)(p,2),m=x[0],g=x[1],f=Object(o.useState)(""),O=Object(l.a)(f,2),v=O[0],w=O[1],k=Object(o.useState)(!1),y=Object(l.a)(k,2),S=y[0],C=y[1],N=Object(o.useState)(""),z=Object(l.a)(N,2),A=(z[0],z[1]),I=Object(o.useState)(""),F=Object(l.a)(I,2),E=(F[0],F[1]);return Object(r.jsxs)(Y,{children:[S&&Object(r.jsx)(d.a,{to:"/"}),Object(r.jsx)("h1",{children:"Signup to do more"}),Object(r.jsx)("form",{action:"",children:Object(r.jsxs)("div",{className:"form-card",children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",name:"fullName",placeholder:"fullName",onChange:function(e){return a(e.target.value)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"email",name:"email",placeholder:"email",onChange:function(e){return j(e.target.value)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",onChange:function(e){return g(e.target.value)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"password",name:"passwordConfirmation",placeholder:"confirm password ",onChange:function(e){return w(e.target.value)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",className:"action-button",onClick:function(e){e.preventDefault();var t={fullName:c,email:u,password:m,passwordConfirmation:v};W.post("/users/register",t).then((function(e){var t=e.data;n.setAuthState(t),E(t.message),A(""),C(!0)})).catch((function(e){var n=e.response.data;A(n.message),E("")}))},children:"Submit"})})]})})]})},Q=function(e){var n=Object(o.useContext)(h),t=Object(o.useState)(""),i=Object(l.a)(t,2),c=i[0],a=i[1],s=Object(o.useState)(""),b=Object(l.a)(s,2),u=b[0],j=b[1],p=Object(o.useState)(!1),x=Object(l.a)(p,2),m=x[0],g=x[1],f=Object(o.useState)(""),O=Object(l.a)(f,2),v=(O[0],O[1]),w=Object(o.useState)(""),k=Object(l.a)(w,2),y=(k[0],k[1]);return Object(r.jsxs)(Y,{children:[m&&Object(r.jsx)(d.a,{to:"/"}),Object(r.jsxs)("form",{action:"",children:[Object(r.jsx)("h4",{children:"Login"}),Object(r.jsxs)("div",{className:"form-card",children:[Object(r.jsx)("div",{className:"",children:Object(r.jsx)("input",{type:"email",name:"email",placeholder:"email",onChange:function(e){return a(e.target.value)}})}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",onChange:function(e){return j(e.target.value)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",className:"action-button",onClick:function(e){e.preventDefault();var t={email:c,password:u};W.post("/users/login",t).then((function(e){var t=e.data;n.setAuthState(t),y(t.message),v(""),g(!0)})).catch((function(e){var n=e.response.data;v(n.message),y("")}))},children:"Submit"})})]})]})]})},V=(t(65),function(){return Object(r.jsx)(s.a,{children:Object(r.jsxs)(d.d,{children:[Object(r.jsx)(d.b,{exact:!0,path:"/",children:Object(r.jsx)(K,{})}),Object(r.jsx)(d.b,{path:"/signup",children:Object(r.jsx)(G,{})}),Object(r.jsx)(d.b,{path:"/login",children:Object(r.jsx)(Q,{})})]})})});var Z=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(x,{children:Object(r.jsx)(v,{children:Object(r.jsx)(j,{children:Object(r.jsx)(V,{})})})})})},$=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,67)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),o(e),i(e),c(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root")),$()}},[[66,1,2]]]);
//# sourceMappingURL=main.41d8542c.chunk.js.map